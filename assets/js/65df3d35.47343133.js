"use strict";(self.webpackChunkazuma_chat_github_io=self.webpackChunkazuma_chat_github_io||[]).push([[643],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>h});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var l=n.createContext({}),u=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(r),h=i,v=c["".concat(l,".").concat(h)]||c[h]||d[h]||o;return r?n.createElement(v,a(a({ref:t},p),{},{components:r})):n.createElement(v,a({ref:t},p))}));function h(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var u=2;u<o;u++)a[u]=r[u];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}c.displayName="MDXCreateElement"},8814:(e,t,r)=>{r.r(t),r.d(t,{frontMatter:()=>s,contentTitle:()=>l,metadata:()=>u,toc:()=>p,default:()=>c});var n=r(7462),i=r(3366),o=(r(7294),r(3905)),a=["components"],s={title:"Overview"},l=void 0,u={unversionedId:"api/overview",id:"api/overview",title:"Overview",description:"The Azuma HTTP API is used to interact with parts of the Azuma server.",source:"@site/docs/api/overview.md",sourceDirName:"api",slug:"/api/overview",permalink:"/api/overview",tags:[],version:"current",frontMatter:{title:"Overview"},sidebar:"docs",previous:{title:"Introduction",permalink:"/"},next:{title:"User",permalink:"/api/user"}},p=[{value:"HTTP API Routes",id:"http-api-routes",children:[],level:2},{value:"Errors",id:"errors",children:[{value:"400 Bad Request",id:"400-bad-request",children:[],level:3},{value:"401 Unauthorized",id:"401-unauthorized",children:[],level:3},{value:"500 Internal Server Error",id:"500-internal-server-error",children:[],level:3}],level:2},{value:"Sessions",id:"sessions",children:[],level:2},{value:"HTTP API Index",id:"http-api-index",children:[{value:"Request",id:"request",children:[],level:3},{value:"Response",id:"response",children:[],level:3}],level:2}],d={toc:p};function c(e){var t=e.components,r=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The Azuma HTTP API is used to interact with parts of the Azuma server."),(0,o.kt)("h2",{id:"http-api-routes"},"HTTP API Routes"),(0,o.kt)("p",null,"HTTP API Route documentation consists of the request description,\nthe response description and possible errors you may encounter.\nRequest and response descriptions contain JSON bodies when applicable,\nthose define available keys and values in pseudo-types, followed by an example.\nSome errors can happen on every route, those are described in ",(0,o.kt)("a",{parentName:"p",href:"#errors"},"Errors"),"."),(0,o.kt)("h2",{id:"errors"},"Errors"),(0,o.kt)("p",null,"When an error occurs, the server will respond with an error status code and a JSON body including a message,\nin case the error is not clear, it is shown in the following codeblock."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "message": "String" // "ALREADY_EXISTS"\n}\n')),(0,o.kt)("h3",{id:"400-bad-request"},"400 Bad Request"),(0,o.kt)("p",null,"The request you're sending is invalid. Please double-check that you are sending it as described in it's documentation.\nIf you've done that and it still doesn't work, create an issue in the backend repository."),(0,o.kt)("h3",{id:"401-unauthorized"},"401 Unauthorized"),(0,o.kt)("p",null,"You tried to access a route which requires authorization but didn't provide a correct bearer-token\nin the ",(0,o.kt)("inlineCode",{parentName:"p"},"Authorization")," header. Please obtain and use a token, this is explained in ",(0,o.kt)("a",{parentName:"p",href:"#sessions"},"Sessions"),"."),(0,o.kt)("h3",{id:"500-internal-server-error"},"500 Internal Server Error"),(0,o.kt)("p",null,"This is most likely not your fault. Contact the Azuma instance hoster."),(0,o.kt)("h2",{id:"sessions"},"Sessions"),(0,o.kt)("p",null,"All routes except for ",(0,o.kt)("a",{parentName:"p",href:"#http-api-index"},"HTTP API Index"),", ",(0,o.kt)("a",{parentName:"p",href:"/api/user/#register-user"},"Register User"),"\nand ",(0,o.kt)("a",{parentName:"p",href:"/api/user/#login-user"},"Login User")," require authorization, obtained through the latter two routes.\nThis token is used as a bearer-token in the ",(0,o.kt)("inlineCode",{parentName:"p"},"Authorization")," header, like shown in the following codeblock."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-http"},"Authorization: Bearer 318cd399-f47f-478f-8d09-c9c414c3750d\n")),(0,o.kt)("p",null,"When the token is first generated, it will be set to expire after 5 minutes.\nThis is done to prevent unused tokens. Every time the token is used, it's expiry date\nwill be set to 14 days after the current time. If the token is not used for 14 days,\nit will expire and you will have to generate a new token using one of the methods mentioned above."),(0,o.kt)("h2",{id:"http-api-index"},"HTTP API Index"),(0,o.kt)("p",null,"This route returns information about the Azuma instance."),(0,o.kt)("h3",{id:"request"},"Request"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"GET /")),(0,o.kt)("h3",{id:"response"},"Response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "String", // "azumaneo"\n  "version": "String", // "0.1.0"\n  "authors": "String[]", // [ "cloudybyte <hi@cloudybyte.net>", "okrplay <32576280+okrplay@users.noreply.github.com>" ]\n  "license": "String" // "AGPL-3.0-or-later"\n}\n')))}c.isMDXComponent=!0}}]);